<IfModule mod_rewrite.c>
  RewriteEngine On
  # If the request is for an existing file or directory, serve it directly
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Otherwise route everything to the front controller (index.php)
  RewriteRule ^ index.php [L,QSA]
</IfModule>

# Security: block risky uploaded files if present
<FilesMatch "run_setup\.php|run_migrations_include\.php|deploy_.*\.zip">
  Require all denied
</FilesMatch>